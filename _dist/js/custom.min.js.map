{"version":3,"sources":["custom.js"],"names":["siteRoot","slProvince","slDistrict","CheckParamUrlToToggleFilter","url","province","URL","searchParams","get","district","category","keyword","$","trigger","ProductFilter","txtProductName","val","pageUrl","provinceId","districtId","productCategory","slProductCategory","updateQueryStringParameter","productName","window","location","protocol","host","pathname","value","RegExp","separator","match","replace","uri","key","re","loadDistricts","$provinceId","indexOf","type","$select","success","method","response","ajax","htmlOptions","data","html","current","href","loadProvinces","this","ItemID","Name","loadProductCategories","each","cache","setTimeout","CustomFieldOptionId","document","ready","change"],"mappings":"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","file":"custom.min.js","sourcesContent":["var siteRoot = \"\";\r\nvar slProvince = 'select[name=ProductProvince]';\r\nvar slDistrict = 'select[name=ProductDistrict]';\r\nvar slProductCategory = 'select[name=ProductCategory]';\r\nvar txtProductName = 'input[name=ProductName]';\r\n\r\n\r\n$(document).ready(function() {\r\n\t// $('.pro-detail-4 .dropdown-item').click(function(e){\r\n\t// \tvar src = $(this).data('src')\r\n\t// \t$('#planImage').attr('src',src)\r\n\t// }) \r\n\tCheckParamUrlToToggleFilter();\r\n\t//Provinces\r\n\tloadProvinces(slProvince);\r\n\t//Load District when Province change\r\n\t$(slProvince).change(function() {\r\n\t\tloadDistricts(slDistrict, $(this).val());\r\n\t});\r\n\t//Load Product category \r\n\tloadProductCategories(slProductCategory);\r\n\r\n});\r\n\r\nfunction CheckParamUrlToToggleFilter() {\r\n\tvar url = new URL(window.location.href);\r\n\tvar province = url.searchParams.get(\"province\");\r\n\tvar district = url.searchParams.get(\"district\");\r\n\tvar category = url.searchParams.get(\"category\");\r\n\tvar keyword = url.searchParams.get(\"keyword\");\r\n\r\n\tif (province != '' || district != '' || category != '' || keyword != '')\r\n\t\t$(\"#btn-filter\").trigger(\"click\");\r\n\tif (keyword != '')\r\n\t\t$(txtProductName).val(keyword);\r\n\r\n}\r\n\r\nfunction ProductFilter() {\r\n\tlet provinceId = $(slProvince).val();\r\n\tlet districtId = $(slDistrict).val();\r\n\tlet productCategory = $(slProductCategory).val();\r\n\tlet productName = $(txtProductName).val();\r\n\tlet pageUrl = location.protocol + '//' + location.host + location.pathname;\r\n\r\n\tif (provinceId != '')\r\n\t\tpageUrl = updateQueryStringParameter(pageUrl, 'province', provinceId);\r\n\tif (districtId != '')\r\n\t\tpageUrl = updateQueryStringParameter(pageUrl, 'district', districtId);\r\n\tif (productCategory != '')\r\n\t\tpageUrl = updateQueryStringParameter(pageUrl, 'category', productCategory);\r\n\tif (productName != '')\r\n\t\tpageUrl = updateQueryStringParameter(pageUrl, 'keyword', productName);\r\n\twindow.location.href = pageUrl;\r\n}\r\n\r\nfunction updateQueryStringParameter(uri, key, value) {\r\n\tvar re = new RegExp(\"([?&])\" + key + \"=.*?(&|$)\", \"i\");\r\n\tvar separator = uri.indexOf('?') !== -1 ? \"&\" : \"?\";\r\n\tif (uri.match(re)) {\r\n\t\treturn uri.replace(re, '$1' + key + \"=\" + value + '$2');\r\n\t} else {\r\n\t\treturn uri + separator + key + \"=\" + value;\r\n\t}\r\n}\r\n\r\nfunction loadDistricts($select, $provinceId) {\r\n\tvar data = {\r\n\t\t'method': 'GetDistricts',\r\n\t\t'provinceId': $provinceId\r\n\t};\r\n\t$.ajax({\r\n\t\tcache: false,\r\n\t\turl: siteRoot + \"/Product/Services/ProductServices.aspx\",\r\n\t\tdata: data,\r\n\t\ttype: 'post',\r\n\t\tsuccess: function(response) {\r\n\t\t\tif (response.success) {\r\n\t\t\t\tlet url = new URL(window.location.href);\r\n\t\t\t\tlet current = url.searchParams.get(\"district\");\r\n\t\t\t\tlet htmlOptions = \"\";\r\n\t\t\t\thtmlOptions += \"<option value=''>Quận huyện</option>\";\r\n\t\t\t\t$(response.data).each(function() {\r\n\t\t\t\t\tif (current != '' && this.ItemID == current)\r\n\t\t\t\t\t\thtmlOptions += \"<option value='\" + this.ItemID + \"' selected>\" + this.Name + \"</option>\";\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\thtmlOptions += \"<option value='\" + this.ItemID + \"'>\" + this.Name + \"</option>\";\r\n\r\n\t\t\t\t});\r\n\t\t\t\t$($select).html(htmlOptions);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction loadProvinces($select) {\r\n\r\n\r\n\tlet data = {\r\n\t\t'method': 'GetProvince',\r\n\t};\r\n\t$.ajax({\r\n\t\tcache: false,\r\n\t\turl: siteRoot + \"/Product/Services/ProductServices.aspx\",\r\n\t\tdata: data,\r\n\t\ttype: 'post',\r\n\t\tsuccess: function(response) {\r\n\t\t\tif (response.success) {\r\n\t\t\t\tlet url = new URL(window.location.href);\r\n\t\t\t\tlet current = url.searchParams.get(\"province\");\r\n\t\t\t\tlet htmlOptions = \"\";\r\n\t\t\t\thtmlOptions += \"<option value=''>Tỉnh/thành phố</option>\";\r\n\t\t\t\t$(response.data).each(function() {\r\n\t\t\t\t\tif (current != '' && this.ItemID == current)\r\n\t\t\t\t\t\thtmlOptions += \"<option value='\" + this.ItemID + \"' selected>\" + this.Name + \"</option>\";\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\thtmlOptions += \"<option value='\" + this.ItemID + \"'>\" + this.Name + \"</option>\";\r\n\t\t\t\t});\r\n\t\t\t\t$($select).html(htmlOptions);\r\n\t\t\t\tif (current != '')\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t$($select).trigger(\"change\")\r\n\t\t\t\t\t}, 500);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction loadProductCategories($select) {\r\n\tvar data = {\r\n\t\t'method': 'GetProductCategories',\r\n\t};\r\n\t$.ajax({\r\n\t\tcache: false,\r\n\t\turl: siteRoot + \"/Product/Services/ProductServices.aspx\",\r\n\t\tdata: data,\r\n\t\ttype: 'post',\r\n\t\tsuccess: function(response) {\r\n\t\t\tif (response.success) {\r\n\t\t\t\tlet url = new URL(window.location.href);\r\n\t\t\t\tlet current = url.searchParams.get(\"category\");\r\n\t\t\t\tlet htmlOptions = \"\";\r\n\t\t\t\thtmlOptions += \"<option value=''>Chọn loại căn hộ</option>\";\r\n\t\t\t\t$(response.data).each(function() {\r\n\t\t\t\t\tif (current != '' && this.CustomFieldOptionId == current)\r\n\t\t\t\t\t\thtmlOptions += \"<option value='\" + this.CustomFieldOptionId + \"' selected>\" + this.Name + \"</option>\";\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\thtmlOptions += \"<option value='\" + this.CustomFieldOptionId + \"'>\" + this.Name + \"</option>\";\r\n\t\t\t\t});\r\n\t\t\t\t$($select).html(htmlOptions);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n"]}