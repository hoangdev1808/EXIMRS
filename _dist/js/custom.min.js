"use strict";var siteRoot="",slProvince="select[name=ProductProvince]",slDistrict="select[name=ProductDistrict]",slProductCategory="select[name=ProductCategory]",txtProductName="input[name=ProductName]";function CheckParamUrlToToggleFilter(){var t=new URL(window.location.href),e=t.searchParams.get("province"),o=t.searchParams.get("district"),a=t.searchParams.get("category"),i=t.searchParams.get("keyword");""==e&&""==o&&""==a&&""==i||$("#btn-filter").trigger("click"),""!=i&&$(txtProductName).val(i)}function ProductFilter(){var t=$(slProvince).val(),e=$(slDistrict).val(),o=$(slProductCategory).val(),a=$(txtProductName).val(),i=location.protocol+"//"+location.host+location.pathname;""!=t&&(i=updateQueryStringParameter(i,"province",t)),""!=e&&(i=updateQueryStringParameter(i,"district",e)),""!=o&&(i=updateQueryStringParameter(i,"category",o)),""!=a&&(i=updateQueryStringParameter(i,"keyword",a)),window.location.href=i}function updateQueryStringParameter(t,e,o){var a=new RegExp("([?&])"+e+"=.*?(&|$)","i"),i=-1!==t.indexOf("?")?"&":"?";return t.match(a)?t.replace(a,"$1"+e+"="+o+"$2"):t+i+e+"="+o}function loadDistricts(a,t){var e={method:"GetDistricts",provinceId:t};$.ajax({cache:!1,url:siteRoot+"/Product/Services/ProductServices.aspx",data:e,type:"post",success:function(t){var e,o;t.success&&(e=new URL(window.location.href).searchParams.get("district"),o="",o+="<option value=''>Quận huyện</option>",$(t.data).each(function(){""!=e&&this.ItemID==e?o+="<option value='"+this.ItemID+"' selected>"+this.Name+"</option>":o+="<option value='"+this.ItemID+"'>"+this.Name+"</option>"}),$(a).html(o))}})}function loadProvinces(a){$.ajax({cache:!1,url:siteRoot+"/Product/Services/ProductServices.aspx",data:{method:"GetProvince"},type:"post",success:function(t){var e,o;t.success&&(e=new URL(window.location.href).searchParams.get("province"),o="",o+="<option value=''>Tỉnh/thành phố</option>",$(t.data).each(function(){""!=e&&this.ItemID==e?o+="<option value='"+this.ItemID+"' selected>"+this.Name+"</option>":o+="<option value='"+this.ItemID+"'>"+this.Name+"</option>"}),$(a).html(o),""!=e&&setTimeout(function(){$(a).trigger("change")},500))}})}function loadProductCategories(a){$.ajax({cache:!1,url:siteRoot+"/Product/Services/ProductServices.aspx",data:{method:"GetProductCategories"},type:"post",success:function(t){var e,o;t.success&&(e=new URL(window.location.href).searchParams.get("category"),o="",o+="<option value=''>Chọn loại căn hộ</option>",$(t.data).each(function(){""!=e&&this.CustomFieldOptionId==e?o+="<option value='"+this.CustomFieldOptionId+"' selected>"+this.Name+"</option>":o+="<option value='"+this.CustomFieldOptionId+"'>"+this.Name+"</option>"}),$(a).html(o))}})}$(document).ready(function(){CheckParamUrlToToggleFilter(),loadProvinces(slProvince),$(slProvince).change(function(){loadDistricts(slDistrict,$(this).val())}),loadProductCategories(slProductCategory)});
//# sourceMappingURL=custom.min.js.map
